<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!--<link rel="stylesheet" type="text/css" href="../static/style.css">-->
    <title>Acitivies</title>
  </head>
  <body>
	
    <nav>
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('jokes') }}">Jokes</a>
      <a href="{{ url_for('trivia') }}">Trivia</a>
      <a href="{{ url_for('activities') }}">You are here</a>
      <a href="{{ url_for('leaderboard') }}">Leaderboard</a>
      <a href="{{ url_for('logout') }}">Logout</a>
    </nav>

    <h3>Generate An Activity...</h3>

		{% if data == "" %}
		
			<h2>No such activity in our database. Try different settings!</h2>
		
		{% else %}

			<!-- add kid friendly button -->
			<h2>{{ data['activity'] }}</h2>
			<p>Category: {{ data['type'] }}</p>
			<p>Accessibility: {{ data['accessibility'] }}</p>
			<p>Duration: {{ data['duration'] }}</p>
			<p>Number of participants: {{ data['participants'] }}</p>
			<p>Price: {{ data['price'] }}</p>
		
		{% endif %}

		<br><br>

		<!--settings-->
		<p>Settings</p>
		
		<!--category-->
		<form method="POST" action="activites">
			<label for="category">Category:</label>
			<select id="category" name="category">
				{% for item in category_options %}
					{% if item == category %}
						<option value={{ item }} selected>{{ item }}</option>
					{% else %}
						<option value={{ item }}>{{ item }}</option>
					{% endif %}
				{% endfor %}
			</select>
			<br>
			
			<!-- switches -->
			{% if child_friendly == 1 %}
				Child-friendly: Guarenteed<input type="checkbox" value="no" name="child_friendly" checked="yes"/>Not guarenteed<br>
			{% else %}
				Child-friendly: Guarenteed<input type="checkbox" value="no" name="child_friendly"/>Not guarenteed<br>
			{% endif %}
			{% if duration == 1 %}
				Duration: Short activity (minutes)<input type="checkbox" value="long" name="duration" checked="yes"/>Long activity (hours)<br>
			{% else %}
				Duration: Short activity (minutes)<input type="checkbox" value="long" name="duration"/>Long activity (hours)<br>
			{% endif %}
			
			<!-- sliders -->
			People: <span id="ppl"></span> 1 person<input type="range" min="0" max="6" value={{ num_val }} name="num_val" id="num_val"/>8 people<br>
			Price rating: <span id="prate"></span> No cost<input type="range" min="0" max="40" value={{ price }} name="price" id="price"/>Up to any cost (rated 0.4+)<br>
			Accessibility: <span id="acc"></span> at most Few to no challenges<input type="range" min="0" max="3" value={{ accessibility }} name="accessibility" id="accessibility"/>Up to major challenges<br>
			<br>
			
			<input type="submit" value="Generate new" />
			
		</form>
		
		<script>
		
		
		
			var num_slider = document.getElementById("num_val");
			var num_output = document.getElementById("ppl");
			var num_cur = Number(num_slider.value);
			num_output.innerHTML = {{ num_val_options|safe }}[num_cur]; // Display the default slider value
			
			// Update the current slider value (each time you drag the slider handle)
			num_slider.oninput = function() {
				var ind = Number(this.value);
				num_output.innerHTML = {{ num_val_options|safe }}[ind];
			} 
		
			
			var prate_slider = document.getElementById("price");
			var prate_output = document.getElementById("prate");
			var prate_cur = Number(prate_slider.value);
			prate_output.innerHTML = {{ price_options|safe }}[prate_cur]; // Display the default slider value
			
			// Update the current slider value (each time you drag the slider handle)
			prate_slider.oninput = function() {
				var ind = Number(this.value);
				prate_output.innerHTML = {{ price_options|safe }}[ind];
			} 
			

			var acc_slider = document.getElementById("accessibility");
			var acc_output = document.getElementById("acc");
			var acc_cur = Number(acc_slider.value);
			acc_output.innerHTML = {{ accessibility_options|safe }}[acc_cur]; // Display the default slider value
			
			// Update the current slider value (each time you drag the slider handle)
			acc_slider.oninput = function() {
				var ind = Number(this.value);
				acc_output.innerHTML = {{ accessibility_options|safe }}[ind];
			} 

			
		</script>
		
  </body>
</html>
