<!DOCTYPE html>

<!--
  Squash (Jason Chan, Aoanul Hoque, Isabel Zheng, Maya Berchin)
  SoftDev
  P01: ArRESTed Development
  2025-12-22
  time spent: 1.5 hrs
 -->

<html lang="en" dir="ltr">
  <head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style type = "text/tailwindcss">
      @theme {
        --font-title: "roboto", sans-serif;
        --font-mono: "in", inconsolata;
        --color-pastel-blue: #d4f5ff;
        --color-pizza: #0000FF;
      }
    </style>

    <title>Acitivies</title>

  </head>

  <body class = "bg-linear-to-r from-blue-300 to-orange-300">

    <nav class = "flex items-center bg-gray-800 p-2 align-items: center">
      <div class = "w-50 flex-auto"></div>

      <div class = "flex flex-auto justify-center">
      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('home') }}">Home</a>
      </button>

      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('jokes') }}">Jokes</a>
      </button>

      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('trivia') }}">Trivia</a>
      </button>

      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('activities') }}">You are here</a>
      </button>

      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('leaderboard') }}">Leaderboard</a>
      </button>

      <button class = "bg-black text-white border-1 text-[20px] hover:bg-white hover:text-black">
      <a href="{{ url_for('logout') }}">Logout</a>
      </button>
      </div>

      <div class = "w-50 flex-auto text-white text-right">
      <p>{{ username }}</p>
      </div>
    </nav>

    <h3 class="font-fancy text-3xl text-center text-[40px]">Your activity is...</h3><br>

		<div class="container mx-auto bg-gray-800 py-8 px-4 rounded">

			{% if data == "" %}

				<div class="bg-white rounded-lg shadow-md hover:shadow-2xl transition p-6">
					<h2 class="text-center font-fancy font-bold text-[60px]">Changing the settings!</h2>
					<p class="text-center">Cuz we don't have an activity that checks all your conditions in our database :P sorry!</p>
				</div>

			{% else %}

			<div class="bg-white rounded-lg shadow-md hover:shadow-2xl transition p-6">

				<div class="grid grid-cols-1 md:grid-cols-5 gap-8">
					<div class="bg-gray-400 text-white rounded-lg flex items-center justify-center mb-4">
						<span class="text-2m">{{ data['type'] }}</span>
					</div>
					<div class="bg-gray-400 text-white rounded-lg flex items-center justify-center mb-4">
						<span class="text-2m">{{ data['accessibility'] }}</span>
					</div>
					<div class="bg-gray-400 text-white rounded-lg flex items-center justify-center mb-4">
						<span class="text-2m">{{ data['duration'] }} long</span>
					</div>
					<div class="bg-gray-400 text-white rounded-lg flex items-center justify-center mb-4">
						<span class="text-2m">{{ data['participants'] }} person(s)</span>
					</div>
					<div class="bg-gray-400 text-white rounded-lg flex items-center justify-center mb-4">
						<span class="text-2m">price {{ data['price'] }} in range 0-4.0+</span>
					</div>
				</div>

				<h2 class="text-center font-fancy text-gray-800 font-bold text-[60px]">{{ data['activity'] }}</h2>

			</div>

			{% endif %}

		</div>

		<br><br>

		<!--settings-->

		<div class="container mx-auto bg-gray-800 py-8 px-4 rounded">
			<div class="bg-white rounded-lg shadow-md hover:shadow-2xl transition p-6">
				<h4 class="text-xl font-bold mb-2 text-gray-800">Settings</h4>
				<br>

				<div class="grid grid-cols-1 md:grid-cols-16">
					<!--category-->
					<div class="col-span-4">
						<form method="POST" action="activites">
							<label for="category">Category:</label>
							<select id="category" name="category">
								{% for item in category_options %}
									{% if item == category %}
										<option value={{ item }} selected>{{ item }}</option>
									{% else %}
										<option value={{ item }}>{{ item }}</option>
									{% endif %}
								{% endfor %}
							</select>
						</div>
						<div></div>

						<!-- switches -->
						<div class="col-span-4 ">
							{% if child_friendly == 1 %}
								Child-friendly guaranteed
								<div class="relative inline-block w-11 h-5">
									<input id="switch-component-1" checked="yes" value="no" name="child_friendly" type="checkbox" class="peer appearance-none w-11 h-5 bg-slate-100 rounded-full checked:bg-slate-800 cursor-pointer transition-colors duration-300" />
									<label for="switch-component-1" class="absolute top-0 left-0 w-5 h-5 bg-white rounded-full border border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 peer-checked:border-slate-800 cursor-pointer">
									</label>
								</div>
								Not guaranteed
							{% else %}
								Child-friendly guaranteed
								<div class="relative inline-block w-11 h-5">
									<input id="switch-component-1" value="no" name="child_friendly" type="checkbox" class="peer appearance-none w-11 h-5 bg-slate-100 rounded-full checked:bg-slate-800 cursor-pointer transition-colors duration-300" />
									<label for="switch-component-1" class="absolute top-0 left-0 w-5 h-5 bg-white rounded-full border border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 peer-checked:border-slate-800 cursor-pointer">
									</label>
								</div>
								Not guaranteed
							{% endif %}
						</div>
						<div></div>
						<div class="col-span-6">
							{% if duration == 1 %}
								Short activity (minutes)
								<div class="relative inline-block w-11 h-5">
									<input id="switch-component-2" type="checkbox" value="long" name="duration" checked="yes" class="peer appearance-none w-11 h-5 bg-slate-100 rounded-full checked:bg-slate-800 cursor-pointer transition-colors duration-300" />
									<label for="switch-component-2" class="absolute top-0 left-0 w-5 h-5 bg-white rounded-full border border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 peer-checked:border-slate-800 cursor-pointer">
									</label>
								</div>
								Long activity (hours)
							{% else %}
								Short activity (minutes)
								<div class="relative inline-block w-11 h-5">
									<input id="switch-component-2" type="checkbox" value="long" name="duration" class="peer appearance-none w-11 h-5 bg-slate-100 rounded-full checked:bg-slate-800 cursor-pointer transition-colors duration-300" />
									<label for="switch-component-2" class="absolute top-0 left-0 w-5 h-5 bg-white rounded-full border border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 peer-checked:border-slate-800 cursor-pointer">
									</label>
								</div>
								Long activity (hours)
							{% endif %}
						</div>
					</div>

					<br>
					<!-- sliders -->
					<div class="grid grid-cols-1 md:grid-cols-16">

						<div class="col-span-2"> People: </div>
						<div class="col-span-2"><span id="ppl"></span></div>
						<div></div>
						<div class="col-span-2"> 1 person</div>
						<div class="col-span-3"><input type="range" min="0" max="6" value={{ num_val }} name="num_val" id="num_val"/></div>
						<div class="col-span-2"> 8 people</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-16">
						<div class="col-span-2"> Price rating: </div>
						<div class="col-span-2"><span id="prate"></span></div>
						<div></div>
						<div class="col-span-2"> No cost</div>
						<div class="col-span-3"><input type="range" min="0" max="40" value={{ price }} name="price" id="price"/></div>
						<div class="col-span-3"> Up to any cost (rated 0.4+)</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-16">
						<div class="col-span-2"> Accessibility: </div>
						<div class="col-span-2"><span id="acc"></span></div>
						<div></div>
						<div class="col-span-2"> Few to no challenges</div>
						<div class="col-span-3"><input type="range" min="0" max="3" value={{ accessibility }} name="accessibility" id="accessibility"/></div>
						<div class="col-span-3"> Up to major challenges</div>
					</div>

				</div>
				<br>
				<center><input class="text-center w-200 bg-white text-orange-700 px-8 py-3 rounded-full font-semibold hover:bg-orange-400 hover:text-white transition transform hover:scale-105" type="submit" value="Generate new"/></center>

			</form>

		</div>

		<script src="{{ url_for('static', filename='js/activities.js') }}"></script>
		<script> init({{ num_val_options|safe }}, {{ price_options|safe }}, {{ accessibility_options|safe }}); </script>

  </body>
</html>
