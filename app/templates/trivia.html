<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Squash's Trivia Page</title>
  </head>

  <body>
    <hr>

    <h3>Trivia Question:</h3>
    <p>{{ trivia["results"][0]["question"] }}</p>

    <p>Difficulty: {{ trivia["results"][0]["difficulty"] }}</p>

    <p>Category: {{ trivia["results"][0]["category"] }}</p>

    <p>Answer Choices:</p>
    <div id="answers"></div>

    <script>
      var triviaData = {{ trivia | tojson }};
      var q = triviaData.results[0];

      var correct = q.correct_answer;
      var answers = q.incorrect_answers.slice();
      answers.push(correct);

      for (var i = answers.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var tmp = answers[i];
        answers[i] = answers[j];
        answers[j] = tmp;
      }

      var answersDiv = document.getElementById("answers");

      answers.forEach(function(ans) {
        var btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = ans;

        btn.onclick = function() {
          if (ans === correct) {
            alert("Correct!");
          } else {
            alert("Incorrect. Correct answer: " + correct);
          }
        };

        answersDiv.appendChild(btn);
        answersDiv.appendChild(document.createTextNode(" "));
      });
    </script>
  </body>
</html>

<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!--<link rel="stylesheet" type="text/css" href="../static/style.css">-->
    <title>Register</title>
  </head>
  <body>
    <nav>
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('jokes') }}">Jokes</a>
      <a href="{{ url_for('trivia') }}">Trivia</a>
      <a href="{{ url_for('activities') }}">Activities</a>
      <a href="{{ url_for('logout') }}">Logout</a>
    </nav>
    <h2>trivia</h2>
    <p>logged in as {{ username }}</p>
  </body>

</html>
